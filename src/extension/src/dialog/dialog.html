<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Autocoder - Generate Code</title>
    <link rel="stylesheet" href="dialog.css">
</head>
<body>
    <div class="autocoder-dialog">
        <div class="dialog-header">
            <span class="dialog-icon">ðŸ¤–</span>
            <h2>Autocoder - Generate Code</h2>
        </div>

        <div class="dialog-content">
            <div class="work-item-section">
                <label>Work Item:</label>
                <span id="work-item-info" class="work-item-info">Loading...</span>
            </div>

            <div class="form-group">
                <label for="repository-select">Repository *</label>
                <select id="repository-select" class="form-control" required>
                    <option value="">Loading repositories...</option>
                </select>
            </div>

            <div class="form-group">
                <label for="branch-select">Source Branch *</label>
                <select id="branch-select" class="form-control" required>
                    <option value="">Select a repository first</option>
                </select>
            </div>

            <div class="form-group">
                <label for="pipeline-select">Pipeline *</label>
                <select id="pipeline-select" class="form-control" required>
                    <option value="">Loading pipelines...</option>
                </select>
            </div>

            <div class="form-group">
                <label>AI Agent *</label>
                <div class="radio-group">
                    <label class="radio-label">
                        <input type="radio" name="agent-type" id="agent-copilot" value="copilot" checked>
                        <span>GitHub Copilot</span>
                    </label>
                    <label class="radio-label">
                        <input type="radio" name="agent-type" id="agent-claude" value="claude">
                        <span>Claude Code</span>
                    </label>
                </div>
            </div>

            <div class="form-group">
                <label for="user-prompt">Additional Instructions (optional)</label>
                <textarea id="user-prompt" class="form-control textarea" 
                    placeholder="Enter any additional instructions for the AI agent..."></textarea>
            </div>

            <div class="form-group checkbox-group">
                <label class="checkbox-label">
                    <input type="checkbox" id="create-pr" checked>
                    <span>Create Pull Request automatically</span>
                </label>
            </div>

            <div id="status-message" class="status-message" style="display: none;"></div>
            <div id="loading-spinner" class="loading-spinner" style="display: none;">
                <span class="spinner"></span>
                <span>Triggering pipeline...</span>
            </div>
        </div>

        <div class="dialog-footer">
            <button id="cancel-btn" class="btn btn-secondary">Cancel</button>
            <button id="submit-btn" class="btn btn-primary">
                <span class="btn-icon">ðŸš€</span>
                Start Autocoder
            </button>
        </div>
    </div>

    <script src="dialog.js"></script>
</body>
</html>
